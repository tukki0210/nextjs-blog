---
title: ' next/imageとReact-Markdownを使いマークダウン内の画像を最適化する'
date: '2021-01-30'
image: '/images/components/Next.js_Icon.png'
---


参考：
[Using NextJS and Next/Image with MDX Markdown Processing](https://theviewport.io/post/using-nextjs-and-nextimage-with-mdx-markdown-processing)

React-Markdownを導入する

```terminal:
yarn add react-markdown
```


react-markdownのrenderersオプションに適用する

```javascript

const renderers = {
  image: image => {
    return <Image src={image.src} alt={image.alt} width="600" height="450"  />
  },
}


export default function Post({ postData }) {
  return (
    <Layout>
      <Head>
        <title>{postData.title}</title>
      </Head>
      <article className={'bg-gray-50 mx-4 px-4 my-14 py-4'}>
        <h1 className={"text.2xl font-extrabold"}>{postData.title}</h1>
        <div className={"text-gray-900"}>
          <Date dateString={postData.date} />
        </div>
        {/* <div dangerouslySetInnerHTML={{ __html: postData.contentHtml }} /> */}
        <ReactMarkdown
          className={markdownStyles["markdown"]}
          children={postData.contentHtml}
          allowDangerousHtml = {true}
          renderers={renderers}
        />
      </article>
    </Layout>
  )
}

```