---
title: 'Laravel8とvue.js3で開発環境を整備する'
date: '2021-11-26'
image: '/images/2021年/11月/LaravelVue.jpg'
metaDescription: Laravelでシステムの実装の練習
tags:
  - 'Laravel'
  - 'Vue.3'
  - '環境構築'
---

## 環境構築
LaravelとVueを組み合わせてアプリケーションを作るための環境構築を行っていきます。

参考:[Laravel8でVue 3を使う](https://reffect.co.jp/laravel/laravel8-vue3)


### 最新のLaravel8をインストール

Vue3を使いたいので今まで使ってきたLaravel6ではなく最新Laravel8を使います。古いバージョンを使うと<red><bold>不具合が起こる気がする</bold></red>からです。

参考：[Laravel 6 で Vue.js 3 を使えるようにするまでの試行錯誤の記録](https://oki2a24.com/2021/04/22/laravel-6-with-vue-js-3/)

バージョン指定をする必要がないので下記のコマンドでダウンロードしました。11月22日現在の最新バージョンはLaravel8.6.4 でした。

プロジェクトの名前は次の記事の課題で使うことを想定しているので、「ap_hotel」（応用情報(AP)のDB問題に出たホテルのプロジェクト）としています。

```terminal
composer create-project laravel/laravel --prefer-dist laravel_sample
```

#### laravel/ui及びVueをインストール
続いて、Laravel上でフロントエンドを開発する環境をサクッと作ってくれる<red>laravel/ui</red>をインストールします。

これもバージョンを指定なしで、サクッと下記のコマンドでダウンロードします。

```terminal
composer require laravel/ui
```

このlaravel/uiを使ってvueをインストールする準備をします。

```terminal
php artisan ui vue
```

#### package.jsonを変更してインストールする。

laravel/uiによって作られるpackage.jsonはこんな感じですが、そのままinstallしてしまうのvue２が入ってしまうので変更します。

また、他にも不要であると思うものは削除してください。


```json
    "devDependencies": {
        "axios": "^0.21",
        "bootstrap": "^4.6.0",
        "jquery": "^3.6",
        "laravel-mix": "^6.0.6", <-6.0以上であることを確認
        "lodash": "^4.17.19",　
        "popper.js": "^1.16.1",
        "postcss": "^8.1.14",
        "resolve-url-loader": "^3.1.2",
        "sass": "^1.32.11",
        "sass-loader": "^11.0.1",
        "vue": "^2.6.12", <-必ず削除
        "vue-template-compiler": "^2.6.12" <-必ず削除
    }
```

変更が完了したらインストールします。

```terminal
npm install
```
### Vue3をインストールする。
インストールが完了したら、Vue3をインストールします。

```terminal
npm install -save-dev vue@next
```

#### webpack.mix.js
webpack.mix.jsを少し書き換えます。(vue()の位置が変わる)

```javascript
// 略

mix.js('resources/js/app.js', 'public/js')
    .sass('resources/sass/app.scss', 'public/css').vue();
```

このファイルの設定後installとdevを行います。

```terminal
npm install && npm run dev 
```

そうするとpackage.jsonに'vue-loader'が追加されます。


#### package.json
```javascript
    "devDependencies": {
        "axios": "^0.21",
        "bootstrap": "^4.6.0",
        "jquery": "^3.6",
        "laravel-mix": "^6.0.6",
        "popper.js": "^1.16.1",
        "postcss": "^8.1.14",
        "resolve-url-loader": "^3.1.2",
        "sass": "^1.32.11",
        "sass-loader": "^11.0.1",
        "vue": "^3.2.20",
        "vue-loader": "^16.8.1" <-追加された
```
この後にさらにinstallとdevを行います。

```terminal
npm install && npm run dev
```


![mix完了](/images/2021年/10月/LaravelVue1.png)
