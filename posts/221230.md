---
title: "AWSコンテナ設計・構築[本格]入門　感想"
date: "2022-12-30"
image: '/images/2022年/12月/awscontainer.jpg'
metaDescription: ''
tags: 
- 'AWS'
- '技術書感想'
---

## 概要
・Dockerやコンテナ技術についての説明から始まり、EC2・Fargateの使い分けと・ECS・EKSの使い分け、およびその組み合わせはAWS Well-Architectedフレームワークの観点からどれが最適かをそれぞれ論じている。

そのあとECS × Fargate の組み合わせが現時点では最善として、実際にこの構成を作ってみる演習を後半で行なっている。


## ◯良かったところ

・演習が単にECS on Fargeteを触ってみようで終わらず、Well-Architectedフレームワークに対応した構成を実際に作ることができた（下の構成図を作る）。さらにCodeシリーズを使ったCI/CDの作り方などまでかなり幅広くカバーされていた。

![演習サンプル](/images/2022年/12月/AppSamplePic.png)

・演習で利用するサンプルアプリケーションがReact(Blitz.js+Prisma) + Go(echo)のマイクロサービス構成でレベルが高く、この部分だけでも参考になり面白かった。

・この後に受験したAWS認定のSAAの勉強にかなり役に立った。

・書籍が全てフルカラーで図も大量に載っており、クラウドの基本は分かっている必要があるがかなり分かりやすかった。

## ×よくなかったところ
・Cloud9を動かすEC2のELB容量を拡張すると、毎回Cloud9から接続ができなくなり作り直す羽目になった。

→謎現象。Cloud9のバグっぽいけど対処方法が分からなくて10回くらい作り直した。。

・演習をチマチマ進めていたら、AWSに100ドル課金する羽目になった（白目）
![100ドル超えたorz](/images/2022年/12月/2212awspay.png)

→VPCエンドポイント（インターフェイス型）が維持するだけで課金が必要で（だいたい１ヶ月で１箇所10ドル弱）、演習の序盤で３箇所くらい作って以降は、さっさと終わらせないと課金がどんどん増えていく。この辺注意書きでもあれば良かったなーとは思う。（のんびり進めてたら気付けば40ドルくらいになっていた。）